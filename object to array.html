<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

</head>

<body>
    <div class="col-md-4 offset-md-4 mt-4">
        <form name="employeeForm" onsubmit="onSubmit()">
            <div>
                <label for="name">Name</label>
                <input type="text" id="name" name="name" class="form-control" value="">
            </div>
            <div>
                <label for="email">Email</label>
                <input type="email" id="email" name="email" class="form-control" value="">
            </div>
            <div>
                <label for="password">Password</label>
                <input type="password" id="password" name="password" class="form-control" value="">
            </div>
            <button onclick="New(event)">
                Submit
            </button>
        </form>
        <div class="container mt-5">
            <table class="table table-border table-hover">
                <thead class="thead-dark">
                    <tr>
                        <th>Index</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Password</th>

                    </tr>
                </thead>
                <tbody id="table-body">

                </tbody>
            </table>
        </div>
    </div>

    <script>



        //getter  function to get employees array from local storage
        function getEmployees() {
            return JSON.parse(localStorage.getItem('employees'));
        }

        //settter function to store employees array in local storage
        function setEmployees(employees) {
            localStorage.setItem('employees', JSON.stringify(employees));
        }

        function displayEmployees() {
            var employeeData = getEmployees();
            var tableBody = "";
            employeeData.forEach(function (employee, index) {
                tableBody += `
        <tr>
        <td>${index + 1}</td>
        <td>${employee.name}</td>
        <td>${employee.email}</td>
        <td>${employee.password}</td>

        </tr>
        `;
            });
            document.getElementById('table-body').innerHTML = tableBody;
        }

        function New(e) {
            e.preventDefault()
            var name = document.getElementById("name").value;
            console.log(name);
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;

            console.log("Input Data: " + name + " " + email + " " + password);
            var employee = {

                name: employeeForm.name.value,
                email: employeeForm.email.value,
                password: employeeForm.password.value
            };
            console.log(employee);

            var employeeData = [];
            employeeData = getEmployees();
            console.log(employeeData);
            employeeData.push(employee);
            
            console.log(employeeData);
            setEmployees(employeeData);
            displayEmployees();

        }
    </script>
</body>

</html>